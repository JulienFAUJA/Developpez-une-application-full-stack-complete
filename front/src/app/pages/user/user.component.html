<app-header></app-header>
<div class="user-container">
  <form [formGroup]="userForm" (ngSubmit)="onSubmit()">
    <h3>Profil Utilisateur</h3>
    <div class="form-group">
      <label for="name">Nom d’utilisateur</label>
      <input formControlName="name" type="text" id="name" name="name" />
    </div>
    <div class="form-group">
      <label for="email">E-mail</label>
      <input formControlName="email" type="text" id="email" name="email" />
    </div>
    <div class="form-group">
      <label for="password">Mot de passe</label>
      <input formControlName="password" type="password" id="password" />
      <div *ngIf="userForm.get('password')?.errors && userForm.get('password')?.touched">
        <small class="text-danger" *ngIf="userForm.get('password')?.errors?.['minLength']">Password must be at least 8 characters long</small>
        <small class="text-danger" *ngIf="userForm.get('password')?.errors?.['pattern']">Password must contain at least one uppercase, one lowercase, one digit and one special character</small>
      </div>
    </div>
    <button class="purple_btn" type="submit">Sauvegarder</button>
    <div class="form-group">
      <button class="label_red" (click)="onLogOut()">Se déconnecter</button>
    </div>
  </form>

  <hr class="sep" />

  <h3 class="abonnements_h3">Abonnements</h3>
  <section class="feed">
    <app-theme
      *ngFor="let theme of themes"
      [theme]="theme"
      (subscriptionChanged)="loadThemes()"
    ></app-theme>
  </section>
</div>
